<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Gampahin Husmak Tree Plantation</title>
    <meta name="theme-color" content="#16a34a" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="GHusmak" />
    <meta
      name="description"
      content="Gampahathuru.lk (Gampahin Husmak) is a community-driven platform for tree plantation, monitoring, and environmental conservation in the Gampaha District."
    />

    <!-- SEO Meta Tags -->
    <meta
      name="keywords"
      content="Gampahathuru, Gampahathuru.lk, Gampahin Husmak, Tree Plantation, Gampaha, Environment, Green Gampaha, Forest Restoration"
    />
    <link rel="canonical" href="https://gampahathuru.lk" />

    <meta
      property="og:title"
      content="Gampahathuru.lk - Gampahin Husmak Tree Plantation"
    />
    <meta
      property="og:description"
      content="Join Gampahathuru.lk to plant, monitor, and grow trees for a greener Gampaha. Track your impact today."
    />
    <meta property="og:url" content="https://gampahathuru.lk" />
    <meta property="og:site_name" content="Gampahathuru.lk" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://gampahathuru.lk/opengraph.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Gampahathuru.lk - Gampahin Husmak" />
    <meta
      name="twitter:description"
      content="Plant trees and protect our environment with Gampahathuru.lk."
    />
    <meta
      name="twitter:image"
      content="https://gampahathuru.lk/opengraph.jpg"
    />

    <link rel="icon" type="image/jpeg" href="/favicon.jpg" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Abhaya+Libre:wght@400;500;600;700;800&family=IBM+Plex+Sans+Sinhala:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&family=Noto+Sans+Tamil:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Security Restrictions -->
    <style>
      /* Global CSS protections */
      * {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
      }
      input,
      textarea {
        -webkit-user-select: text;
        -khtml-user-select: text;
        -moz-user-select: text;
        -ms-user-select: text;
        user-select: text;
      }
      img {
        -webkit-user-drag: none;
        pointer-events: none;
      }
    </style>
    <script>
      /**
       * Security Script for Gampahin Husmak
       * Enhanced Security Features v3.0
       */
      (function () {
        "use strict";

        // 1. Disable Right Click
        document.addEventListener(
          "contextmenu",
          (e) => e.preventDefault(),
          true,
        );

        // 2. Disable Keyboard Shortcuts
        document.addEventListener(
          "keydown",
          (e) => {
            // F12, Ctrl+Shift+I/J/C, Ctrl+U, Ctrl+S, Ctrl+P, Ctrl+A
            if (
              e.keyCode === 123 ||
              ((e.ctrlKey || e.metaKey) &&
                e.shiftKey &&
                [73, 74, 67, 75].includes(e.keyCode)) ||
              ((e.ctrlKey || e.metaKey) &&
                [85, 83, 80, 65, 70].includes(e.keyCode))
            ) {
              e.preventDefault();
              e.stopPropagation();
              return false;
            }
          },
          true,
        );

        // 3. Disable Dragging
        document.addEventListener("dragstart", (e) => e.preventDefault(), true);

        // 4. Force Zoom Prevention
        const preventZoom = (e) => {
          if (e.touches && e.touches.length > 1) e.preventDefault();
        };
        document.addEventListener("touchstart", preventZoom, {
          passive: false,
        });
        document.addEventListener("touchmove", preventZoom, { passive: false });
        document.addEventListener("gesturestart", (e) => e.preventDefault(), {
          passive: false,
        });
        document.addEventListener(
          "wheel",
          (e) => {
            if (e.ctrlKey) e.preventDefault();
          },
          { passive: false },
        );

        // 5. DevTools Detection & Protection
        const protect = () => {
          let lastCheck = 0;
          const detect = () => {
            const now = Date.now();
            if (now - lastCheck < 100) return; // Prevent loop
            lastCheck = now;

            const threshold = 160;
            const isDevToolsOpen =
              window.outerWidth - window.innerWidth > threshold ||
              window.outerHeight - window.innerHeight > threshold;

            if (isDevToolsOpen) {
              console.clear();
              // Aggressive console poisoning
              for (let i = 0; i < 10; i++) {
                console.log(
                  "%cSTOP!",
                  "color:red; font-size:40px; font-weight:bold;",
                );
              }
            }
          };
          setInterval(detect, 1000);
        };

        protect();

        // Block window.print
        window.print = function () {
          return false;
        };

        console.log(
          "%cSecurity Active v3.0",
          "color: green; font-weight: bold;",
        );
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
